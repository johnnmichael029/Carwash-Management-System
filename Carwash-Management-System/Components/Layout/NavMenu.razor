@rendermode InteractiveServer
@inject NavigationManager NavManager
@inject IJSRuntime JS 

@code {
    private async Task Logout()
    {
        // 1. Trigger the browser confirmation pop-up
        bool confirmed = await JS.InvokeAsync<bool>("confirm", "Are you sure you want to logout?");

        if (confirmed)
        {
            // 2. If user clicks 'OK', clear state and redirect
            AppState.IsLoggedIn = false;
            NavManager.NavigateTo("/login", forceLoad: true);
        }
        // If user clicks 'Cancel', nothing happens and they stay on the page
    }
}

<div class="sidebar-wrapper d-flex flex-column h-100 text-white">
    <div class="p-3">
        <h4 class="fw-bold text-primary">CARWASH PRO</h4>
    </div>
    <hr />
    <ul class="nav nav-pills flex-column mb-auto px-2">
        <li class="nav-item mb-2">
            <NavLink class="nav-link text-white d-flex align-items-center" href="#">
                <i class="bi bi-speedometer2 me-2"></i> Dashboard
            </NavLink>
        </li>
        <li class="nav-item mb-2">
            <NavLink class="nav-link text-white d-flex align-items-center" href="sales">
                <i class="bi bi-cart me-2"></i> Sales
            </NavLink>
        </li>
    </ul>

    <div class="p-3 mt-auto border-top border-secondary">
        <button class="btn btn-outline-danger w-100 justify-content-center align-items-center shadow-sm" @onclick="Logout">
            <i class="bi bi-box-arrow-left me-2"></i> 
			<span>Logout</span>
        </button>
    </div>
</div>