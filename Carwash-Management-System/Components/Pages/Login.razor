@page "/login"
@layout EmptyLayout
@inject NavigationManager NavManager
@rendermode InteractiveServer

<div class="d-flex align-items-center justify-content-center vh-100" style="background: #1a1a1a;">
    <div class="card shadow-lg border-0" style="width: 22rem; border-radius: 20px; overflow: hidden;">
        <div class="p-5 text-center" style="background-color: #00a3ed;">
            <i class="bi bi-person-badge text-white" style="font-size: 3rem;"></i>
            <h3 class="text-white fw-bold mt-2">Sandigan Admin</h3>
        </div>
        <div class="card-body p-4 bg-white">
            <div class="mb-3">
                <label class="form-label small fw-bold">Username</label>
                <input type="text" class="form-control form-control-lg bg-light border-0" @bind="username" placeholder="admin" />
            </div>
            <div class="mb-4">
                <label class="form-label small fw-bold">Password</label>
                <input type="password" class="form-control form-control-lg bg-light border-0" @bind="password" placeholder="••••••••" />
            </div>

            @if (!string.IsNullOrEmpty(errorMessage))
            {
                <div class="alert alert-danger py-2 small text-center">@errorMessage</div>
            }

            <button class="btn btn-lg w-100 text-white fw-bold shadow-sm"
                    style="background-color: #00a3ed; border-radius: 10px;"
                    @onclick="AuthenticateUser">
                Login
            </button>
        </div>
    </div>
</div>

@code {
	private string username= "";
	private string password= "";
    private string errorMessage = "";

    private void AuthenticateUser()
    {
        // Replace with your actual database check logic
        if (username == "BSIS3B-23-00838" && password == "johnmichael@029")
        {
            // Successful login sends them to the dashboard
            AppState.IsLoggedIn = true;
            NavManager.NavigateTo("/dashboard");
        }
        else
        {
			errorMessage = "Invalid username or password.";
        }
    }
}

